pipeline {
    agent any 
environment {
IMAGE_NAME = "myfirstdocker"
IMAGE_TAG = "v2"
APP_NAME = "REACTAPP"
}
stages {
        stage('Build') {
            steps {
              sh 'docker build -t myfirstdocker:v2 .' 
            }
        }
stage('Push to devops-build repository'){
{
steps{
sh ...
docker tag $IMAGENAME:$IMAGETAG registry.devops-build/$APP_NAME/web
docker push registry.devops-build/$APP_NAME/web
...
}
}
stage('Release the image') {
steps {
sh ...
web container:release web --app-APP_NAME
...
}
}
}
}
}
